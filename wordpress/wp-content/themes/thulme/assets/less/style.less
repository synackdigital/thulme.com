/*!
  Theme Name:     Tom Hulme's theme
  Author:         Fredrik Broman
  Author URI:     http://synack.se/
  Design:         Tom Hulme, Roberto Picerno, Fredrik Broman
  Template:       roots
  Version:        0.1.0
*/

// Libs
@import "flat-ui/flat-ui";
@import "font-awesome/font-awesome";
@import "looper";

// Settings
@import "config";
@import "mixins";
@import "grid";

// Partials
@import "partials/document";
@import "partials/home";
@import "partials/footer";
@import "partials/comments";

// Basic responsive grid
body {
  @media (min-width: @tabletBreakpoint) {
    max-width: (@tabletBreakpoint * 1.5);
    margin-left: auto;
    margin-right: auto;
  }
}
.banner,
.document,
.content-info {
  .column(23);
  .push(1);
  .pull(1);
}
@media (min-width: @tabletBreakpoint) {
  .banner {
    .column(5);
    .push(1);
    margin-top: (3 * @base-font-size * @base-line-height);
  }
  .document {
    .column(11);
    .push(1);
    margin-top: (3 * @base-font-size * @base-line-height);
  }
  // 7 cols left
}

// Background color
body {
  background-color: @stockholm;
}

// Font rendering
body {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

// Link highlighting
a:hover,
a:focus {
  text-decoration: underline;
}

/*
 * Header (banner)
 */
.banner {

  // Brand
  .brand {
    display: inline-block;

    font-family: @alt-font-family;
    font-weight: @alt-font-weight;
    font-size: @h4;
    font-variant: small-caps;
    text-rendering: auto;

    /* Striped pseudo-border */
    position: relative;
    &:after {
      background: -webkit-gradient(linear, left, right,
        color-stop(0%, @investing), color-stop(20%, @investing),
        color-stop(20%, @open-design), color-stop(40%, @open-design),
        color-stop(40%, @startup-tools), color-stop(60%, @startup-tools),
        color-stop(60%, @weiji), color-stop(100%, @weiji),
        color-stop(80%, @thulme), color-stop(100%, @thulme)
      );
      background: -webkit-linear-gradient(left,
        @investing 0%, @investing 20%,
        @open-design 20%, @open-design 40%,
        @startup-tools 40%, @startup-tools 60%,
        @weiji 60%, @weiji 80%,
        @thulme 80%, @thulme 100%
      );
      background: -moz-linear-gradient(left,
        @investing 0%, @investing 20%,
        @open-design 20%, @open-design 40%,
        @startup-tools 40%, @startup-tools 60%,
        @weiji 60%, @weiji 80%,
        @thulme 80%, @thulme 100%
      );
      background: -ms-linear-gradient(left,
        @investing 0%, @investing 20%,
        @open-design 20%, @open-design 40%,
        @startup-tools 40%, @startup-tools 60%,
        @weiji 60%, @weiji 80%,
        @thulme 80%, @thulme 100%
      );
      background: -o-linear-gradient(left,
        @investing 0%, @investing 20%,
        @open-design 20%, @open-design 40%,
        @startup-tools 40%, @startup-tools 60%,
        @weiji 60%, @weiji 80%,
        @thulme 80%, @thulme 100%
      );
      background: linear-gradient(to right,
        @investing 0%, @investing 20%,
        @open-design 20%, @open-design 40%,
        @startup-tools 40%, @startup-tools 60%,
        @weiji 60%, @weiji 80%,
        @thulme 80%, @thulme 100%
      );

      content: ' ';
      .hide-text();

      position: absolute;
      bottom: 0;
      right: 0;
      left: 0;
      height: 3px;
    }

    /* Animate border on hover */
    &:after {
      .transition(~"height 120ms ease-in-out");
    }
    &:hover,
    &:focus {
      &:after {
        height: 100%;
      }
    }
  }
  .title {
    position: relative;
    z-index: 20;
    padding-left: 10px;
    padding-right: 10px;

    .transition(~"color 90ms linear");
    &:hover {
      color: white;
      text-decoration: none;
    }
  }

  // Navigation
  .navigation .nav-list li a {
    font-family: @alt-font-family;
    font-weight: @alt-font-weight;
    font-size: @p;
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  // Navigation toggle
  #nav-toggle {
    position: absolute;
    top: (@base-font-size * @base-line-height);
    right: 4.687499999999999%; // Equivalent to .pull(1)

    @media (min-width: @tabletBreakpoint) {
      display: none;
    }
  }
  .navigation,
  .description {
    @media (max-width: @tabletBreakpoint) {
      display: none;
    }
  }

  // Search form
  #searchform {
    margin-bottom: (2 * @base-font-size * @base-line-height);
  }
  #searchsubmit {
    display: none;
  }
  #searchform .search-query {
    width: 11em;
    .transition(~"width 90ms ease-in-out, border-color 90ms linear");
    &:focus {
      width: 13em;
    }
    &:hover {
      border-color: @firm;
    }
  }

  // Spacing
  .brand,
  .description {
    margin-top: (@base-font-size * @base-line-height);
    margin-bottom: (@base-font-size * @base-line-height);
    @media (min-width: @tabletBreakpoint) {
      margin-bottom: (3.5 * @base-font-size * @base-line-height);
    }
  }

}

/*
 * Navigation category colors
 */
.nav-list {
  .clearfix();
  & > li {
    float: left;
    clear: left;
    margin-bottom: (@base-font-size * @base-line-height);

    // Reset nav-list link style
    a {
      .border-radius(0);

      &:hover,
      &:focus {
        color: white;
        background-color: transparent;
      }
    }
    &.active a {
      color: @link-color;
      background-color: transparent;
    }
    &.active a:hover,
    &.active a:focus {
      color: white;
      background-color: transparent;
    }

    // Animated colors background on hover
    position: relative;
    a {
      position: relative;
      z-index: 20;
    }
    &:after {
      content: ' ';
      .hide-text();

      position: absolute;
      bottom: 2px;
      right: -13px;
      left: -13px;
      height: 2px;

      .transition(~"height 60ms linear");
    }
    &:hover,
    &.active {
      &:after {
        height: 100%;
      }
      a {
        color: white;
      }
    }
  }
  // Default
  & > li {
    &:after {
      background-color: @deep-sea;
    }
  }
  // Investing
  & > li[class*='investing'] {
    &:after {
      background-color: @investing;
    }
  }
  // About (thulme)
  & > li[class*='about'] {
    &:after {
      background-color: @thulme;
    }
  }
  // Weiji
  & > li[class*='weiji'] {
    &:after {
      background-color: @weiji;
    }
  }
  // Startup Tools
  & > li[class*='startup-tools'] {
    &:after {
      background-color: @startup-tools;
    }
  }
  // Open Design
  & > li[class*='open-design'] {
    &:after {
      background-color: @open-design;
    }
  }

}

/*
 * Social icons
 */
.banner {
  .social-icons a {
    margin-right: .75em;

    font-size: @p;
  }
}

// Social icon colors
.icon-google-plus-sign {
  color: @social-googleplus;
}
.icon-twitter {
  color: @social-twitter;
}
.icon-linkedin {
  color: @social-linkedin;
}
.icon-instagram {
  color: @social-instagram;
}
